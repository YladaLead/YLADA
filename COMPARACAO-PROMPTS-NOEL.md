# üîç COMPARA√á√ÉO: Prompt Dashboard vs C√≥digo

**Data:** 2025-01-27  
**Problema:** Noel n√£o est√° direcionando e dialogando como antes

---

## üìä RESUMO DA DIFEREN√áA

O prompt do **dashboard** √© uma vers√£o **simplificada** (11 se√ß√µes b√°sicas).  
O prompt do **c√≥digo** √© uma vers√£o **completa e detalhada** (com Arquitetura Mental, 12 Aprimoramentos, √Årvore de Decis√£o).

---

## ‚ùå O QUE EST√Å FALTANDO NO PROMPT DO DASHBOARD

### 1. **ARQUITETURA MENTAL DO NOEL (5 PASSOS)** ‚ö†Ô∏è CR√çTICO

**Faltando:**
```
Sempre siga esta sequ√™ncia ao processar qualquer mensagem:

1. ENTENDER
   - Leia a mensagem completamente
   - Identifique a inten√ß√£o real (n√£o apenas o que foi dito)
   - Capture o contexto emocional
   - Identifique palavras-chave importantes

2. CLASSIFICAR
   - Tipo de lead: frio, morno, quente
   - Est√°gio: capta√ß√£o, diagn√≥stico, venda, recrutamento, reten√ß√£o
   - Temperatura: baixa, m√©dia, alta
   - Perfil do distribuidor: iniciante, intermedi√°rio, l√≠der

3. DECIDIR
   - Qual √© o melhor pr√≥ximo passo?
   - Qual Link Wellness sugerir?
   - Qual script usar?
   - Qual fluxo seguir?

4. EXECUTAR
   - Entregue resposta clara e objetiva
   - Sugira a√ß√£o espec√≠fica
   - Forne√ßa script ou link quando apropriado
   - Seja direto e pr√°tico

5. GUIAR
   - Sugira pr√≥ximo passo claro
   - Mantenha o momentum
   - N√£o deixe a conversa morrer
```

**Impacto:** Sem isso, o Noel n√£o segue um processo estruturado de pensamento, resultando em respostas menos direcionadas.

---

### 2. **12 APRIMORAMENTOS ESTRAT√âGICOS** ‚ö†Ô∏è CR√çTICO

**Faltando instru√ß√µes sobre:**

1. **SUGEST√ÉO INTELIGENTE**
   - Sempre sugira um Link Wellness antes de conversa longa
   - Explique PORQU√ä est√° sugerindo aquele link
   - Use o script curto do link para apresentar

2. **EXPLICA√á√ÉO ESTRAT√âGICA DO PORQU√ä**
   - Sempre explique por que est√° sugerindo algo
   - Conecte a sugest√£o com a necessidade identificada
   - Mostre o valor antes de pedir a√ß√£o

3. **SISTEMA DE TEMPERATURA AUTOM√ÅTICA**
   - Identifique temperatura do lead automaticamente
   - Ajuste abordagem baseado na temperatura
   - Leads frios = links leves
   - Leads mornos = diagn√≥sticos
   - Leads quentes = desafios ou neg√≥cio

4. **LEITURA EMOCIONAL**
   - Identifique emo√ß√µes na mensagem
   - Ajuste tom e abordagem
   - Use empatia quando necess√°rio

5. **BOT√ÉO "MELHOR A√á√ÉO AGORA"**
   - Sempre sugira a melhor a√ß√£o imediata
   - Seja espec√≠fico e claro
   - Facilite a decis√£o

**Impacto:** Sem essas instru√ß√µes, o Noel n√£o explica o "porqu√™" das sugest√µes, n√£o adapta a abordagem √† temperatura do lead, e n√£o direciona ativamente a conversa.

---

### 3. **√ÅRVORE DE DECIS√ÉO COMPLETA** ‚ö†Ô∏è IMPORTANTE

**Faltando:**
- Sistema completo de decis√£o baseado em 9 camadas do perfil estrat√©gico
- L√≥gica de ativa√ß√£o de planos (Vendas R√°pidas, Duplica√ß√£o, H√≠brido, Presidente)
- Interpreta√ß√£o e resposta ap√≥s perfil completo
- Ciclo de a√ß√£o cont√≠nua (tarefa ‚Üí conclu√≠do ‚Üí pr√≥xima tarefa)

**Impacto:** Respostas menos personalizadas e menos estruturadas.

---

### 4. **HEUR√çSTICAS E MODELOS MENTAIS** ‚ö†Ô∏è IMPORTANTE

**Faltando:**
- Heur√≠sticas de venda leve
- Heur√≠sticas de recrutamento √©tico
- Previs√£o comportamental
- Sistema de nudges (sutis e diretos)
- Detec√ß√£o de micro-sinais
- Fechamento por sinais

**Impacto:** Menos capacidade de ler o contexto e adaptar a abordagem.

---

### 5. **ESTRUTURA DE RESPOSTA MAIS DETALHADA**

**Dashboard atual:**
```
1) Mensagem principal curta  
2) A√ß√£o pr√°tica imediata  
3) Script sugerido (se existir)  
4) Frase de refor√ßo emocional  
5) Oferta de ajuda adicional  
```

**C√≥digo (mais detalhado):**
```
1. Reconhecimento ‚Äî validar o que o usu√°rio disse
2. Dire√ß√£o clara ‚Äî explicar rapidamente qual √© o passo
3. A√ß√£o pr√°tica ‚Äî entregar o m√≠nimo necess√°rio (script ou passo)
4. CTA leve ‚Äî terminar com uma pergunta simples
```

**Al√©m disso, o c√≥digo tem:**
- Explica√ß√£o estrat√©gica do porqu√™
- Conex√£o com necessidade identificada
- Mostrar valor antes de pedir a√ß√£o
- Sugerir pr√≥ximo passo claro
- Manter momentum

**Impacto:** Respostas menos estruturadas e menos direcionadas.

---

## ‚úÖ O QUE O PROMPT DO DASHBOARD TEM (mas pode melhorar)

‚úÖ Regras b√°sicas de funcionamento  
‚úÖ Uso da Base de Conhecimento  
‚úÖ Formato de resposta (simplificado)  
‚úÖ Regras para usar Functions  
‚úÖ Estilo do Noel  
‚úÖ Casos especiais  

**Mas falta:**
- Processo mental estruturado
- Instru√ß√µes de direcionamento ativo
- Sistema de temperatura e adapta√ß√£o
- Explica√ß√£o estrat√©gica do porqu√™

---

## üéØ SOLU√á√ÉO RECOMENDADA

### **Op√ß√£o 1: Atualizar Prompt do Dashboard (R√ÅPIDA)**

Substituir o prompt atual do dashboard pelo prompt completo de:
- `src/lib/noel-wellness/system-prompt-lousa7.ts` (NOEL_SYSTEM_PROMPT_WITH_SECURITY)

**Vantagens:**
- ‚úÖ Inclui Arquitetura Mental (5 passos)
- ‚úÖ Inclui 12 Aprimoramentos Estrat√©gicos
- ‚úÖ Inclui √Årvore de Decis√£o Completa
- ‚úÖ Inclui todas as heur√≠sticas e modelos mentais
- ‚úÖ Instru√ß√µes detalhadas de direcionamento e di√°logo

**Como fazer:**
1. Acesse: https://platform.openai.com/assistants
2. Encontre o Assistant com ID = `OPENAI_ASSISTANT_NOEL_ID`
3. Edite o campo "Instructions"
4. Cole o conte√∫do completo de `NOEL_SYSTEM_PROMPT_WITH_SECURITY`

---

### **Op√ß√£o 2: Passar Instructions Dinamicamente (DEFINITIVA)**

Modificar o c√≥digo para passar o prompt din√¢mico constru√≠do em `buildSystemPrompt()` para o Assistants API.

**Vantagens:**
- ‚úÖ Prompt personalizado por usu√°rio/perfil/contexto
- ‚úÖ Sempre atualizado com o c√≥digo
- ‚úÖ Inclui contexto din√¢mico (perfil estrat√©gico, hist√≥rico, etc.)

**Requer:**
- Modificar `noel-assistant-handler.ts` para aceitar `instructions` como par√¢metro
- Passar `instructions` no `runs.create()`

---

## üìã CHECKLIST: O que adicionar ao prompt do dashboard

- [ ] Arquitetura Mental do Noel (5 passos)
- [ ] 12 Aprimoramentos Estrat√©gicos
- [ ] √Årvore de Decis√£o Completa
- [ ] Heur√≠sticas e Modelos Mentais
- [ ] Sistema de Temperatura Autom√°tica
- [ ] Leitura Emocional
- [ ] Explica√ß√£o Estrat√©gica do Porqu√™
- [ ] Sistema de Nudges
- [ ] Detec√ß√£o de Micro-sinais
- [ ] Fechamento por Sinais
- [ ] Regras de Roteamento (perguntas institucionais vs scripts vs emocional)
- [ ] Formato obrigat√≥rio de resposta mais detalhado

---

## üîç CONCLUS√ÉO

O prompt do dashboard est√° **funcional mas incompleto**. Ele tem as regras b√°sicas, mas **faltam as instru√ß√µes detalhadas** que fazem o Noel:

1. **Direcionar ativamente** a conversa (explicar porqu√™, sugerir a√ß√µes, manter momentum)
2. **Dialogar de forma estruturada** (seguir processo mental de 5 passos)
3. **Adaptar a abordagem** (temperatura do lead, leitura emocional, nudges)

**A solu√ß√£o imediata √© atualizar o prompt do dashboard com a vers√£o completa do c√≥digo.**











